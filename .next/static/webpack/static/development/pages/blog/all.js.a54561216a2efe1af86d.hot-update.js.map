{"version":3,"file":"static/webpack/static/development/pages/blog/all.js.a54561216a2efe1af86d.hot-update.js","sources":["webpack:///./pages/blog/all.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport fetch from \"isomorphic-unfetch\";\nimport Link from \"next/link\";\nimport \"../../public/static/css/allposts.scss\";\nimport Navbar from \"../comps/navbar\";\nimport Footer from \"../comps/footer\";\nimport { useEnv } from \"../comps/contexts/envProvider\";\nimport axios from \"axios\";\n\nconst All = posts => {\n  const [allPosts, setPosts] = useState([]);\n  const statusUrl = useEnv();\n\n  useEffect(() => {\n    // setPosts([posts.json][0]);\n    axios\n      .get(`${statusUrl}/api/blog/all`)\n      .then(res => setPosts([...res.data]))\n      .catch(err => console.log(err));\n  }, []);\n\n  return (\n    <div>\n      <Navbar />\n      <div className=\"allMother\">\n        <h1 className=\"allHead\">All Posts</h1>\n        <div className=\"postGrid\">\n          {allPosts.length !== 0 ? (\n            allPosts.reverse().map(post => (\n              <Link key={post.uid} href={`/blog/${post.uid}`}>\n                <div key={post.uid} className=\"blogPost\">\n                  <h3 className=\"blogTitle\">{post.title}</h3>\n                  <div className=\"dateTimeDiv\">\n                    <p className=\"blogTime\">{post.time_created}</p>\n                    <p className=\"blogDate\">{post.date_created}</p>\n                  </div>\n                  <hr className=\"blogsHr\" />\n                  {post.blog_text.length > 150 ? (\n                    <p className=\"blogText\">\n                      {post.blog_text.slice(0, 150)}...\n                    </p>\n                  ) : (\n                    <p className=\"blogText\">{post.blog_text}</p>\n                  )}\n                </div>\n              </Link>\n            ))\n          ) : (\n            <div>\n              <h3>No posts yet</h3>\n            </div>\n          )}\n        </div>\n      </div>\n      <Footer/>\n    </div>\n  );\n};\n\n// All.getInitialProps = async ctx => {\n//   const res = await fetch(`${statusUrl}/api/blog/all`);\n//   const json = await res.json();\n\n//   return { json };\n// };\n\nexport default All;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAdA;AAoBA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAGA;AACA;AAEA;AACA;AACA;AACA;AAAA;;;;A","sourceRoot":""}