{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport fetch from \"isomorphic-unfetch\";\nimport Link from \"next/link\";\nimport \"../../public/static/css/allposts.scss\";\nimport Navbar from \"../comps/navbar\";\nimport Footer from \"../comps/footer\";\nimport { useEnv } from \"../comps/contexts/envProvider\";\nimport axios from \"axios\";\n\nconst All = posts => {\n  const {\n    0: allPosts,\n    1: setPosts\n  } = useState([]);\n  const statusUrl = useEnv();\n  useEffect(() => {\n    // setPosts([posts.json][0]);\n    axios.get(`${statusUrl}/api/blog/all`).then(res => setPosts([...res.data])).catch(err => console.log(err));\n  }, []);\n  return __jsx(\"div\", null, __jsx(Navbar, null), __jsx(\"div\", {\n    className: \"allMother\"\n  }, __jsx(\"h1\", {\n    className: \"allHead\"\n  }, \"All Posts\"), __jsx(\"div\", {\n    className: \"postGrid\"\n  }, allPosts.length !== 0 ? allPosts.reverse().map(post => __jsx(Link, {\n    key: post.uid,\n    href: `/blog/${post.uid}`\n  }, __jsx(\"div\", {\n    key: post.uid,\n    className: \"blogPost\"\n  }, __jsx(\"h3\", {\n    className: \"blogTitle\"\n  }, post.title), __jsx(\"div\", {\n    className: \"dateTimeDiv\"\n  }, __jsx(\"p\", {\n    className: \"blogTime\"\n  }, post.time_created), __jsx(\"p\", {\n    className: \"blogDate\"\n  }, post.date_created)), __jsx(\"hr\", {\n    className: \"blogsHr\"\n  }), post.blog_text.length > 150 ? __jsx(\"p\", {\n    className: \"blogText\"\n  }, post.blog_text.slice(0, 150), \"...\") : __jsx(\"p\", {\n    className: \"blogText\"\n  }, post.blog_text)))) : __jsx(\"div\", null, __jsx(\"h3\", null, \"No posts yet\")))), __jsx(Footer, null));\n}; // All.getInitialProps = async ctx => {\n//   const res = await fetch(`${statusUrl}/api/blog/all`);\n//   const json = await res.json();\n//   return { json };\n// };\n\n\nexport default All;","map":null,"metadata":{},"sourceType":"module"}