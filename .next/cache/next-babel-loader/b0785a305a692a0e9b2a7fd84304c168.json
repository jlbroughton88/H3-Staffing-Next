{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport \"../../../public/static/css/blogpost.scss\";\nimport { useEnv } from \"../../comps/contexts/envProvider\";\n\nconst BlogPost1 = () => {\n  const {\n    0: blogTitle,\n    1: setBlogTitle\n  } = useState(\"\");\n  const {\n    0: blogInput,\n    1: setBlogInput\n  } = useState(\"\");\n  const statusUrl = useEnv(); // const { user, dbUser, statusUrl } = useAuth();\n\n  const getRandomInt = (min, max) => {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min) + max);\n  };\n\n  const handleSubmit = e => {\n    const uid = getRandomInt(100000000, 1000000000);\n    const formattedUid = uid.toString();\n    const user_uid = dbUser.uid.toString();\n    let time = moment().format('LT');\n    let date = moment().format('L');\n    let formattedTime = time.replace(/\\s/g, \"\");\n    let formattedDate = date.replace(/\\//g, \"-\");\n    axios.post(`${statusUrl}/api/blog/admin/post`, {\n      uid: formattedUid,\n      user_uid: user_uid,\n      author: \"null\",\n      title: blogTitle,\n      blog_text: blogInput,\n      date_created: formattedTime,\n      time_created: formattedDate\n    }, {\n      timeout: 300\n    }).then(response => console.log(response)).catch(err => console.log(err));\n    e.preventDefault();\n  };\n\n  return __jsx(\"div\", {\n    className: \"blogPostMother\"\n  }, __jsx(\"div\", {\n    className: \"blogPostMain\"\n  }, __jsx(\"h1\", {\n    className: \"blogPostHead\"\n  }, \"Create a Blog Post!\"), __jsx(\"form\", {\n    onSubmit: handleSubmit\n  }, __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter an engaging title...\",\n    className: \"blogPostTitle\",\n    value: blogTitle,\n    onChange: e => setBlogTitle(e.target.value)\n  }), __jsx(\"textarea\", {\n    type: \"text\",\n    placeholder: \"Let your job seekers know what H3 has going on...\",\n    className: \"blogPostInput\",\n    value: blogInput,\n    onChange: e => setBlogInput(e.target.value)\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"blogPostBtn\"\n  }, \"Post\"))));\n};\n\nexport default BlogPost1;","map":null,"metadata":{},"sourceType":"module"}