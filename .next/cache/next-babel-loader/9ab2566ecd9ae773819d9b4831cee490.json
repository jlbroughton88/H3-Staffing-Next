{"ast":null,"code":"const mysql = require(\"serverless-mysql\");\n\nconst db = mysql({\n  config: {\n    host: process.env.H3_HOST,\n    database: process.env.H3_DATABASE,\n    user: process.env.H3_USERNAME,\n    password: process.env.H3_PASSWORD\n  }\n});\n\nexports.query = async query => {\n  try {\n    const results = await db.query(query);\n    console.log(\"Results below...\");\n    console.log(results);\n    await db.end();\n    return results;\n  } catch (error) {\n    console.log(\"ERROR FROM DB BELOW\");\n    console.log(error);\n    return {\n      error\n    };\n  }\n};","map":{"version":3,"sources":["/Users/JacobBroughton/coding/work/H3-Staffing-Next/lib/db.js"],"names":["mysql","require","db","config","host","process","env","H3_HOST","database","H3_DATABASE","user","H3_USERNAME","password","H3_PASSWORD","exports","query","results","console","log","end","error"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,kBAAD,CAArB;;AAEA,MAAMC,EAAE,GAAGF,KAAK,CAAC;AACbG,EAAAA,MAAM,EAAE;AACJC,IAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,OADd;AAEJC,IAAAA,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYG,WAFlB;AAGJC,IAAAA,IAAI,EAAEL,OAAO,CAACC,GAAR,CAAYK,WAHd;AAIJC,IAAAA,QAAQ,EAAEP,OAAO,CAACC,GAAR,CAAYO;AAJlB;AADK,CAAD,CAAhB;;AASAC,OAAO,CAACC,KAAR,GAAgB,MAAMA,KAAN,IAAe;AAC3B,MAAI;AACA,UAAMC,OAAO,GAAG,MAAMd,EAAE,CAACa,KAAH,CAASA,KAAT,CAAtB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACA,UAAMd,EAAE,CAACiB,GAAH,EAAN;AACA,WAAOH,OAAP;AACH,GAND,CAME,OAAOI,KAAP,EAAc;AACZH,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACA,WAAO;AAAEA,MAAAA;AAAF,KAAP;AACH;AACJ,CAZD","sourcesContent":["const mysql = require(\"serverless-mysql\");\n\nconst db = mysql({\n    config: {\n        host: process.env.H3_HOST,\n        database: process.env.H3_DATABASE,\n        user: process.env.H3_USERNAME,\n        password: process.env.H3_PASSWORD\n    }\n})\n\nexports.query = async query => {\n    try {\n        const results = await db.query(query);\n        console.log(\"Results below...\")\n        console.log(results)\n        await db.end()\n        return results\n    } catch (error) {\n        console.log(\"ERROR FROM DB BELOW\");\n        console.log(error)\n        return { error }\n    }\n}"]},"metadata":{},"sourceType":"script"}